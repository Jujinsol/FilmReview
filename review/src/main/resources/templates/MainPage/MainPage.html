<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link rel='stylesheet' th:href="@{/webjars/bootstrap/4.5.0/css/bootstrap.min.css}">
    <link rel="stylesheet" th:href="@{/css/main.css}">
    <script src="https://kit.fontawesome.com/cffe88607d.js" crossorigin="anonymous"></script>
</head>
<script src="https://code.jquery.com/jquery-1.12.4.js"></script>
<script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
<script th:src="@{/js/Logout/LogoutFunc.js}"></script>
<body>
<header>
    <div class="title">
        <b>Film Project</b>
    </div>
    <div class="base">
        <div class="input-group mb-3">
            <input type="text" class="form-control" placeholder="영화 제목을 검색해보세요!" id="movieName" name="movieName"
                   aria-label="Recipient's username" aria-describedby="button-addon2">
            <button class="btn btn-outline-secondary" type="button" id="movieView"><i class="fas fa-search"></i>
            </button>
        </div>
        <div class="Info">
            <div class="mypage">
                <a href="MyPage">마이페이지</a>
            </div>
            <div class="logIn">
                <a href="Join"></a>
                <a href="Login">로그인</a>
                <a href="logout">로그아웃</a>
            </div>
        </div>
    </div>
</header>

<div id="container">
    <th:block th:each="borads : ${boardList}">
        <div id="columns">
            <img class="moviePoster" th:src="@{/moviePhoto/}+${borads.getPhotoOriName}"
                 th:onclick="goMoviePage([[${borads.getPhotoOriName}]]);">
            <figure id="movieNames" class="movieName" th:text="${borads.getMovieName()}"
                    th:onclick="goMoviePage([[${borads.getPhotoOriName}]]);"></figure>
        </div>
    </th:block>
</div>

<div id="page_move_div">
    <nav aria-label="Page navigation example" class="page_move">
        <ul class="pagination">
            <a class="page-link" th:href="@{/?page=}+${nowPage-1}" aria-label="Previous">
                <span aria-hidden="true">&laquo;</span>
            </a>
            <li class="page-item" th:each="page : ${#numbers.sequence(0,totalPage -1)}">
                <a th:href="@{/?page=}+${pageStat.index}" th:text="${pageStat.index+1}"></a>
            </li>
            <a class="page-link" th:href="@{/?page=}+${nowPage+1}" aria-label="Next">
                <span aria-hidden="true">&raquo;</span>
            </a>
        </ul>
    </nav>
</div>
<script th:inline="javascript">
    let newVar = [[${AllPizzaShape}]];
    let i = 0;
    let tags = {
        'naturalTag': 0,
        'newTag': 0,
        'FigureMovieName': 0,
        'pizzaImgArea': 0
    }


    for (let i2 = 0; i2 < newVar.length; i2++) {
        eval("tags.newTag=" + "i")
        eval("tags.naturalTag=" + "i")
        eval("tags.pizzaImgArea=" + "i")
        eval("tags.FigureMovieName=" + "i")


        tags.FigureMovieName = document.getElementById("movieNames");
        tags.FigureMovieName.setAttribute("id", tags.FigureMovieName)
        // let elementById = document.getElementById("movieNames");
        // elementById.setAttribute("id", tags.movieNames);


        $(tags.FigureMovieName).append('<div id="' + tags.pizzaImgArea + '"></div>')


        console.log("부모태그" + tags.naturalTag)
        console.log("새로운태그" + tags.newTag)
        console.log("피자영역태그" + tags.pizzaImgArea)

        tags.naturalTag = document.getElementById(tags.pizzaImgArea);
        tags.newTag = document.createElement("Img");

        tags.newTag.setAttribute("id", "pizzaShapes");
        tags.newTag.setAttribute("src", newVar[i]);

        tags.naturalTag.appendChild(tags.newTag);
        console.log("반복종료")
        ++i;
    }

</script>
<script th:src="@{/js/SearchFunc/SearchFunc.js}"></script>
</body>
</html>